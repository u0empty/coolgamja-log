<p>지금금까진 Navigation 컴포넌트를 사용하기 위해 이 컴포를 필요로 하는 페이지에 <code>&lt;Navigation /&gt;</code>을 일일이 붙여줬다.
하지만 <code>Footer</code>나 <code>Side Bar</code>와 같은 더 많은 공통 컴포가 생겼을 때 다시 또 일일이 갖다 붙이는 건 비효율적이다.
이럴 때 사용되는 것이 <strong>layout</strong> 파일이다.</p>
<h2 id="layout">layout</h2>
<p>next가 about-us 페이지를 렌더링하는 과정은 아래와 같다.</p>
<ol>
<li>layout 컴포넌트 렌더링</li>
<li>URL(<code>http://localhost:3000/about-us</code>) 확인</li>
<li>about-us 컴포넌트를 렌더링해야 함을 인식</li>
<li>렌더링 된 layout 안에 about-us 컴포넌트 렌더링</li>
</ol>
<p>코드로 보면 아래와 같은 구조를 갖는다.</p>
<pre><code class="language-typescript">&lt;Layout&gt;
  &lt;AboutUs /&gt;
&lt;/Layout&gt;</code></pre>
<p>즉, 어떤 페이지로 이동할 때마다 layout 컴포넌트가 렌더링 되고
내가 가려는 페이지가 children prop이 되어 그 안에 렌더링 되는 과정을 거친다.</p>
<p>그렇기에 앞서 복붙한 모든 Navigation을 Layout 안으로 옮겨주면,
단번에 모든 페이지에 적용할 수 있게 되는 거다.</p>
<h3 id="적용">적용</h3>
<pre><code class="language-tsx">// layout.tsx

import Navigation from &quot;../components/navigations&quot;;

export const metadata = {
  title: &quot;Next.js&quot;,
  description: &quot;Generated by Next.js&quot;,
};

export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    &lt;html lang=&quot;en&quot;&gt;
      &lt;body&gt;
        &lt;Navigation /&gt;
        {children}
      &lt;/body&gt;
    &lt;/html&gt;
  );
}</code></pre>
<h3 id="커스텀">커스텀</h3>
<p>일반적으로 생각했을 때 레이아웃이 한 개인 경우는 많지 않다.
홈페이지, 대시보드, 로그인 등 다양한 레이아웃이 필요할텐데
이 때 <code>layout</code>을 각 페이지별로 따로 만들어줄 수 있다.</p>
<p>폴더 하위에 <code>page.tsx</code>를 만들듯
원하는 폴더에 <code>layout.tsx</code>를 생성하면 된다.</p>
<pre><code class="language-tsx">// layout.tsx

export default function AboutUsLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    &lt;div&gt;
      {children}
      &amp;copy; Next JS is great!
    &lt;/div&gt;
  );
}</code></pre>
<p>요렇게 한 번 만들어보자.
Home에는 없는 레이아웃이 About Us에만 적용된 것을 볼 수 있다.</p>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/coolgamja_/post/69ffc52b-9e7b-4498-a6ff-c352e900e47a/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/coolgamja_/post/4f872bdc-761f-415e-961f-813f49082fc9/image.png" /></th>
</tr>
</thead>
</table>
<br />

<p>이번에는 아래와 같은 파일을 하나 더 만들고, 해당하는 경로 <code>localhost:3000/about-us/company/jobs/sales</code> 로 이동해보자.</p>
<p><img alt="" src="https://velog.velcdn.com/images/coolgamja_/post/1a2ad95b-9c94-4879-ba19-89af47c6e13b/image.png" /></p>
<p><img alt="" src="https://velog.velcdn.com/images/coolgamja_/post/6db574af-4d4f-4af6-8525-1a1d83f6a08d/image.png" /></p>
<p>about-us에 있는 layout이 해당 페이지에도 적용된 걸 볼 수 있다.
next는 상위 폴더로 이동해서 레이아웃이 있는지 확인하고, 레이아웃이 있으면 그걸 사용해서 하위 항목을 렌더링한다.</p>
<h3 id="중첩">중첩</h3>
<p><strong>layout은 상쇄되지 않고, 중첩된다.</strong></p>
<p>sales 폴더에 layout을 하나 만들고,</p>
<pre><code class="language-tsx">export default function SalesLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    &lt;div&gt;
      {children}
      👽👽👽
    &lt;/div&gt;
  );
}</code></pre>
<p>next의 layout 렌더링 과정을 다시 한 번 정리해보자.</p>
<ol>
<li>root layout을 가져와서 렌더링</li>
<li>URL 확인</li>
<li>about-us 폴더로 가서 layout 파일이 있는지 확인</li>
<li>있으니 렌더링</li>
<li>하위 폴더로 타고 가며 layout 파일이 있는지 확인</li>
<li>sales 밑에 layout 렌더링</li>
<li>마지막으로 page.tsx 렌더링</li>
</ol>
<p>구조는 아래와 같다.</p>
<pre><code class="language-typescript">&lt;Layout&gt;
  &lt;AboutUsLayout&gt;
      &lt;SalesLayout&gt;
        &lt;Sales /&gt;
      &lt;/SalesLayout&gt;
  &lt;/AboutUsLayout&gt;
&lt;/Layout&gt;</code></pre>
<p>화면으로 보면 위에서부터</p>
<ol>
<li>root layout</li>
<li>children</li>
<li>Sales layout</li>
<li>AboutUs layout</li>
</ol>
<p><img alt="" src="https://velog.velcdn.com/images/coolgamja_/post/69d43439-2119-4fea-890c-48928c95899f/image.png" /></p>
<p>요렇게.
즉, <strong>레이아웃은 중첩된다.</strong></p>
<h2 id="reference">Reference</h2>
<p>니꼬쌤</p>